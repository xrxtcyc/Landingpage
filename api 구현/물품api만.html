<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>상품 리스트</title>
  </head>
  <body>
    <div id="product-list-container">
      <ul id="product-list"></ul>
    </div>

    <script>
      const commonData = {
        url: "https://api.wenivops.co.kr/services/open-market",
      };

      // 상품 데이터를 가져오는 fetch 기능
      function fetchProducts() {
        fetch(`${commonData.url}/products/`, {
          method: "GET", // GET 요청
        })
          .then((response) => {
            if (!response.ok) {
              throw new Error("상품 조회에 실패하였습니다.");
            }
            return response.json(); // JSON 형태로 응답 받기
          })
          .then((data) => {
            console.log(data); // 데이터를 콘솔에 출력
          })
          .catch((error) => {
            console.error("Error:", error); // 에러가 발생하면 콘솔에 출력
          });
      }

      // 페이지가 로드되면 fetch 호출
      document.addEventListener("DOMContentLoaded", fetchProducts);
    </script>
  </body>
</html>
